#!/usr/bin/env python
# coding: utf-8

# In[9]:


from additional_functions import *
from agent import *

#get_ipython().run_line_magic('run', 'additional_functions.ipynb')

import numpy as np
import math
import numpy.random as random
random.seed(123)

# Setting seed

# Creating a dataset
nr_experiments = 10
nr_agents = 100

buffer = 100

#walls

a123 = [[1032.1 / 2 + buffer, buffer, 1917.9 / 2 + buffer, buffer],  # A123 top
        [1032.1 / 2 + buffer, buffer, 1032.1 / 2 + buffer, 751.1 / 2 + buffer],  # left
        [1032.1 / 2 + buffer, 751.1 / 2 + buffer, 1032.1 / 2 + 200 / 2 + buffer, 751.1 / 2 + buffer], # left of left door
        [1032.1 / 2 + 200 / 2 + 100 / 2 + buffer, 751.1 / 2 + buffer, 1032.1 / 2 + 200 / 2 + 100 / 2 + 300 / 2 + buffer, 751.1 / 2 + buffer],  # middle of doors
        [1032.1 / 2 + 200 / 2 + 100 / 2 + 300 / 2 + 100 / 2 + buffer, 751.1 / 2 + buffer, 1032.1 / 2 + 200 / 2 + 100 / 2 + 300 / 2 + 100 / 2 + 185.8 / 2 + buffer, 751.1 / 2 + buffer], # right of right door
        [1917.9 / 2 + buffer, buffer, 1917.9 / 2 + buffer, 751.1 / 2 + buffer]  # right
        ]

hallway = [
           [1032.1 / 2 + buffer, 751.1 / 2 + 297/2 + buffer, 1917.9 / 2 + 885.8 / 2 + buffer - 297/2, 751.1 / 2 + 297/2 + buffer],

           [1032.1 / 2 + buffer, 751.1 / 2 + 297/2 + buffer, 1032.1 / 2 + buffer, 751.1/2 + (3*885.8)/2 + buffer],
           [1032.1 / 2 + buffer, 751.1/2 + (3*885.8)/2 + buffer, 1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + 2*(284/2) + 437/2 + 479.5/2 + buffer, 751.1/2 + (3*885.8)/2 + buffer],
           [735/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 /2 + buffer, 735 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297/2 + 734/2 + buffer],
           [735/2 + buffer - 297/2, 751.1 / 2 + (3 * 885.8) / 2 + 297 /2 + buffer, 735/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 /2 + buffer]
           ]

a124 = [[1032.1 / 2 + 885.8 / 2 + buffer, buffer, 1917.9 / 2 + 885.8 / 2 + buffer, buffer],  # A124
        [1032.1 / 2 + 885.8 / 2 + buffer, buffer, 1032.1 / 2 + 885.8 / 2 + buffer, 751.1 / 2 + buffer],
        [1032.1 / 2 + 885.8 / 2 + buffer, 751.1 / 2 + buffer, 1032.1 / 2 + 885.8 / 2 + 185.8 / 2 + buffer, 751.1 / 2 + buffer],
        [1032.1 / 2 + 885.8 / 2 + 185.8 / 2 + 100 / 2 + buffer, 751.1 / 2 + buffer, 1032.1 / 2 + 885.8 / 2 + 185.8 / 2 + 100 / 2 + 300 / 2 + buffer, 751.1 / 2 + buffer],
        [1032.1 / 2 + 885.8 / 2 + 185.8 / 2 + 100 / 2 + 300 / 2 + 100 / 2 + buffer, 751.1 / 2 + buffer, 1032.1 / 2 + 885.8 / 2 + 185.8 / 2 + 100 / 2 + 300 / 2 + 100 / 2 + 200 / 2 + buffer, 751.1 / 2 + buffer],
        [1917.9 / 2 + 885.8 / 2 + buffer, buffer, 1917.9 / 2 + 885.8 / 2 + buffer, 751.1 / 2 + 297/2  + buffer],
        ]

a116 = [[buffer, 751.1 / 2 + (2 * 885.8) / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + + (2 * 885.8) / 2 + buffer],
        [735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + buffer],
        [735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 100 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + buffer],
        [735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 100 / 2 + buffer],
        [buffer, 751.1 / 2 + (3 * 885.8) / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + buffer],
        [buffer, 751.1 / 2 + (2 * 885.8) / 2 + buffer, buffer, 751.1 / 2 + (3 * 885.8) / 2 + buffer]
        ]

a117 = [[buffer, 751.1 / 2 + (1 * 885.8) / 2 + buffer, buffer, 751.1 / 2 + (2 * 885.8) / 2 + buffer],
        [735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 100 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + buffer],
        [735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + buffer],
        [735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 100 / 2 + buffer],
        [buffer, 751.1 / 2 + 885.8 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 885.8 / 2 + buffer],
        [buffer, 751.1 / 2 + (2 * 885.8) / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + + (2 * 885.8) / 2 + buffer]
        ]

a118 = [[buffer, 751.1 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + buffer],
        [buffer, 751.1 / 2 + buffer, buffer, 751.1 / 2 + (1 * 885.8) / 2 + buffer],
        [735 / 2 + buffer, 751.1 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 100 / 2 + buffer],
        [735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + buffer],
        [735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 100 / 2 + buffer],
        [buffer, 751.1 / 2 + 885.8 / 2 + buffer, 735 / 2 + buffer, 751.1 / 2 + 885.8 / 2 + buffer]
        ]

a109 = [[1032.1 / 2 + 324 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + 324 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297/2 + 734/2 + buffer], # electrical room and 109 divider
        [1032.1 / 2 + 324 / 2 + 884 / 2  + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer + 100/2, 1032.1 / 2 + 324 / 2 + 884 / 2  + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297/2 + 734/2 + buffer], # divider a109 and a105

        [1032.1 / 2 + 324 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + 324 / 2 + buffer + 100/2, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer],
        [1032.1 / 2 + 324 / 2 + buffer + 200/2, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + 324 / 2 + 884/2 + buffer - 200/2, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer],
        [1032.1 / 2 + 324 / 2 + 884/2 + buffer - 100/2, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + 324 / 2 + 884/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer],

        [1032.1 / 2 + 324 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297/2 + 734/2 + buffer, 1032.1 / 2 + 324 / 2 + 884 / 2  + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297/2 + 734/2 + buffer], # bottom
        ]

a105 = [[1032.1 / 2 + 324 / 2 + 884/2 + buffer + 100/2, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer,1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + buffer - 100/2, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer],
        [1032.1 / 2 + 324 / 2 + 884/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer + 100/2, 1032.1 / 2 + 324 / 2 + 884/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734/2 + buffer],
        [1032.1 / 2 + 324 / 2 + 884/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734/2 + buffer, 1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734/2 + buffer],
        [1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer + 100/2, 1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734/2 + buffer]
    ]

reception = [[1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer,1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + buffer + 100/2,751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer],
             [1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + buffer + 200/2, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer,1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + buffer + 2*(284/2),751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer],

             [1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer + 100 / 2, 1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734 / 2 + buffer],
             [1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2 + 2*(284/2) +buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2 + 2*(284/2) +buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734 / 2 + buffer],

             [1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734/2 + buffer,1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + 2*(284/2) +buffer,751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734/2 + buffer]
             ]

a102 = [[1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + 2*(284/2) + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer,1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + 2*(284/2) + 437/2 + buffer - 200/2,751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer],
        [1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + 2*(284/2) + 437/2 + buffer - 100/2, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer,1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + 2*(284/2) + 437/2 +buffer,751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer],

        [1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2 + 2*(284/2) +buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2  + 2*(284/2) + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734 / 2 + buffer],
        [1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2 + 2*(284/2) + 437/2 +buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2 + 2*(284/2) + 437/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734 / 2 + buffer],

        [1032.1 / 2 + 324 / 2 + 884/2 + 1484/2  + 2*(284/2) + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734/2 + buffer,1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + 2*(284/2) + 437/2 +buffer,751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734/2 + buffer]
             ]

a101 = [[1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + 2*(284/2) + 437/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer,1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + 2*(284/2) + 437/2 + buffer + 479.5/2,751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer],

        [1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2 + 2*(284/2) + 437/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2  + 2*(284/2) + 437/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734 / 2 + buffer],
        [1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2 + 2*(284/2) + 437/2 + 479.5/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + 324 / 2 + 884 / 2 + 1484 / 2 + 2*(284/2) + 437/2 + 479.5/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734 / 2 + buffer],

        [1032.1 / 2 + 324 / 2 + 884/2 + 1484/2  + 2*(284/2) + 437/2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734/2 + buffer,1032.1 / 2 + 324 / 2 + 884/2 + 1484/2 + 2*(284/2) + 437/2 + 479.5/2 + buffer,751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + 734/2 + buffer]


]

electrical_room = [[1032.1 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297/2 + 734/2 + buffer],
                   [1032.1 / 2 + 324 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297 / 2 + buffer, 1032.1 / 2 + 324 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297/2 + 734/2 + buffer],

                   [1032.1 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297/2 + 734/2 + buffer, 1032.1 / 2 + 324 / 2 + buffer, 751.1 / 2 + (3 * 885.8) / 2 + 297/2 + 734/2 + buffer],

                   [1032.1 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 100 / 2 + buffer + 297/2, 1032.1 / 2 + 324 / 2 + buffer, 751.1 / 2 + 100 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 200 / 2 + 100 / 2 + 485.8 / 2 + 100 / 2 + 100 / 2 + buffer + 297/2],
                   ]

fire_exit = [[buffer, 751.1 / 2 + buffer - 241.8 / 2, buffer + 100 / 2, 751.1 / 2 + buffer - 241.8 / 2],
             [buffer + 200 / 2, 751.1 / 2 + buffer - 241.8 / 2, 1032.1/2 + buffer, 751.1 / 2 + buffer - 241.8 / 2],
             [buffer + 200 / 2, buffer, buffer + 200 / 2, 751.1 / 2 + buffer - 241.8 / 2],
             [buffer, buffer, buffer, 751.1 / 2 + buffer]
             ]

walls = fire_exit + electrical_room + a123 + a124 + a116 + a117 + a118 + a109 + a105 + a102 + a101 + reception + hallway

